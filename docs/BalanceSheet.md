# 塔防游戏数值系统设计文档

## 设计核心理念

### 1. 策略选择多样性
玩家需要在以下维度做出选择：
- **数量 vs 质量**：多建低级塔覆盖范围 vs 少建高级塔集中火力
- **单体爆发 vs 群体控制**：针对精英还是清理小怪
- **前期压制 vs 后期发育**：快速回本还是长期投资

### 2. 资源管理紧张感
- 金币永远不够用，需要精打细算
- 每个决策都有机会成本

### 3. 成长曲线平滑
- 升级收益递减，避免单一塔过于强大
- 鼓励玩家分散投资，尝试不同组合

### 4. 克制关系明确
- 不同塔针对不同类型的僵尸
- 没有"万能"配置，必须根据波次调整

---

## 一、防御塔数值表

### 基础属性总览

| 塔类型 | 造价 | 基础伤害 | 射程(格) | 攻速(秒/次) | 升级成本 | 特殊效果 |
|--------|------|----------|----------|-------------|----------|----------|
| 箭塔 | 50 | 15 | 4 | 0.8 | 40/60/90 | 无，攻速快，对空 |
| 炮塔 | 120 | 45 | 3.5 | 2.0 | 100/150/225 | 范围伤害(1.5格半径) |
| 冰塔 | 100 | 5 | 3 | 1.2 | 80/120/180 | 减速30%，持续2秒 |
| 狙击塔 | 150 | 80 | 7 | 3.0 | 120/180/270 | 无视50%护甲 |
| 电塔 | 200 | 25 | 3 | 0.5 | 160/240/360 | 连锁攻击(最多3个) |
| 毒塔 | 80 | 3 | 3.5 | 1.0 | 65/100/150 | 每秒10伤害，持续5秒 |

### 详细说明

#### 1. 箭塔 (Archer Tower) - 基础DPS
- **DPS**：18.75 (15/0.8)
- **定位**：性价比之王，前期主力
- **特点**：攻速快，可对空，无特殊效果但稳定可靠
- **升级收益**：伤害+40% → +35% → +33%
- **使用场景**：通用，任何位置都可以放置

#### 2. 炮塔 (Cannon Tower) - 群体清场
- **DPS**：22.5 (45/2.0)
- **范围伤害**：中心100%，边缘50%
- **定位**：对付密集僵尸群
- **特点**：攻速慢但范围大，需要预判僵尸聚集点
- **使用场景**：拐角处、僵尸必经之路的聚集点

#### 3. 冰塔 (Ice Tower) - 控制核心
- **DPS**：4.17 (5/1.2)
- **定位**：控制辅助，非输出
- **减速效果**：30%/40%/50%/60% (随等级提升)
- **特点**：伤害极低但控制强，必须配合输出塔
- **使用场景**：关键路口、其他塔的射程覆盖范围内

#### 4. 狙击塔 (Sniper Tower) - 单体爆发
- **DPS**：26.67 (80/3.0)
- **定位**：点杀精英僵尸
- **破甲**：无视50%/60%/70%/80%护甲
- **特点**：射程最远，对付高护甲单位
- **使用场景**：长直道末端、优先击杀高威胁目标

#### 5. 电塔 (Lightning Tower) - 连锁爆发
- **单体DPS**：50 (25/0.5)
- **连锁衰减**：100% → 60% → 30%
- **定位**：多目标清理，狭窄通道之王
- **特点**：理论总DPS最高(95)，但对单体不如狙击
- **使用场景**：分叉路口、狭窄通道

#### 6. 毒塔 (Poison Tower) - 持续伤害
- **即时DPS**：3 (3/1.0)
- **持续伤害**：每秒10，持续5秒(可叠加3层)
- **定位**：对付高血量单位
- **特点**：对高血量单位效率极高，总伤害63(满层)
- **使用场景**：长路径中段、对付坦克僵尸

### 塔类型DPS/金币性价比分析

| 塔类型 | 基础DPS | DPS/造价 | 满级总DPS | 满级总成本 | 满级DPS/成本 |
|--------|---------|----------|-----------|------------|--------------|
| 箭塔 | 18.75 | **0.375** | 63.3 | 240 | 0.264 |
| 炮塔 | 22.5 | 0.188 | 75.2 | 595 | 0.126 |
| 冰塔 | 4.17 | 0.042 | 14.4 | 480 | 0.030 |
| 狙击塔 | 26.67 | 0.178 | 88.9 | 720 | 0.123 |
| 电塔 | 50.0 | **0.250** | 135.0 | 960 | 0.141 |
| 毒塔 | 13.0* | 0.163 | 43.3 | 395 | 0.110 |

*毒塔含持续伤害：3 + 10 = 13 DPS

**关键发现**：
- 低级塔性价比明显高于高级塔
- 鼓励玩家前期多建塔，后期选择性升级关键位置

---

## 二、僵尸数值表

### 基础属性总览

| 僵尸类型 | 生命值 | 移动速度(格/秒) | 攻击力 | 击杀奖励 | 特性 |
|----------|--------|-----------------|--------|----------|------|
| 普通僵尸 | 40 | 1.0 | 5 | 8 | 无特殊能力，标准单位 |
| 快速僵尸 | 25 | 2.0 | 3 | 10 | 速度快，血量低 |
| 坦克僵尸 | 120 | 0.6 | 15 | 20 | 高血量，30%护甲 |
| 飞行僵尸 | 35 | 1.2 | 4 | 12 | 只能被箭塔/狙击塔攻击 |
| 分裂僵尸 | 60 | 0.9 | 6 | 15 | 死亡后分裂为2个小僵尸(各15血) |
| 治疗僵尸 | 50 | 0.8 | 4 | 18 | 每3秒为周围僵尸恢复20血 |
| 自爆僵尸 | 30 | 1.5 | 50 | 15 | 死亡时对周围塔造成50伤害 |
| 隐形僵尸 | 45 | 1.1 | 5 | 25 | 只有3级箭塔/电塔能发现 |
| BOSS僵尸 | 800 | 0.6 | 30 | 200 | 第10波出现，极高威胁 |

### 僵尸克制关系矩阵

| 僵尸类型 | 最佳克制塔 | 原因 | 避免使用 |
|----------|------------|------|----------|
| 快速僵尸 | 冰塔、电塔 | 减速控制/快速打击 | 狙击塔(攻速太慢) |
| 坦克僵尸 | 毒塔、狙击塔 | 持续伤害/破甲高伤 | 箭塔(刮痧) |
| 飞行僵尸 | 箭塔、狙击塔 | 可对空 | 炮塔、冰塔、电塔、毒塔 |
| 分裂僵尸 | 炮塔 | 范围伤害同时清理小僵尸 | 狙击塔(浪费伤害) |
| 治疗僵尸 | 狙击塔 | 优先点杀 | 群攻塔(无法快速击杀) |
| 自爆僵尸 | 狙击塔、冰塔 | 远程击杀/减速控制 | 近战塔(被炸) |
| 隐形僵尸 | 3级箭塔、电塔 | 具有侦测能力 | 其他塔(无法攻击) |
| BOSS僵尸 | 毒塔、狙击塔 | 高单体DPS | 电塔(连锁浪费) |

### 僵尸击杀时间分析(使用对应等级塔)

| 僵尸类型 | 箭塔(秒) | 炮塔(秒) | 狙击塔(秒) | 毒塔(秒) | 电塔(秒) |
|----------|----------|----------|------------|----------|----------|
| 普通僵尸 | 2.1 | 2.0 | 1.1 | 1.0 | 0.5 |
| 快速僵尸 | 1.3 | 1.1 | 0.9 | 0.8 | 0.5 |
| 坦克僵尸 | 6.4 | 5.3 | 1.8 | 4.0 | 2.4 |
| 飞行僵尸 | 1.9 | - | 1.0 | - | - |

---

## 三、波次配置表（前10波）

### 波次详情

| 波次 | 僵尸组合 | 数量 | 生成间隔 | 波次奖励 | 策略提示 |
|------|----------|------|----------|----------|----------|
| 1 | 普通僵尸 | 8 | 2.0秒 | 50金币 | 建1-2个箭塔即可 |
| 2 | 普通x10 + 快速x3 | 13 | 1.8秒 | 60金币 | 快速僵尸需要冰塔减速 |
| 3 | 普通x8 + 坦克x2 | 10 | 2.0秒 | 70金币 | 坦克需要毒塔或狙击 |
| 4 | 快速x8 + 飞行x4 | 12 | 1.5秒 | 80金币 | 确保有对空能力 |
| 5 | 普通x15 + 坦克x3 + 治疗x1 | 19 | 1.5秒 | 100金币 | 优先击杀治疗僵尸 |
| 6 | 分裂x6 + 快速x6 | 12 | 1.8秒 | 90金币 | 炮塔对付分裂效果佳 |
| 7 | 坦克x4 + 自爆x4 + 普通x10 | 18 | 1.5秒 | 110金币 | 远程解决自爆僵尸 |
| 8 | 飞行x10 + 快速x8 + 隐形x3 | 21 | 1.2秒 | 120金币 | 需要3级箭塔和防空 |
| 9 | 坦克x5 + 治疗x2 + 分裂x5 + 普通x10 | 22 | 1.3秒 | 140金币 | 混合波次，考验全面布局 |
| 10 | BOSS(800血) + 普通x20 | 21 | 1.0秒 | 200金币 | 集中火力击杀BOSS |

### 波次设计思路

```
难度曲线设计：

波次 1-2:  新手教学期
          - 让玩家熟悉基础操作
          - 建立初步防线

波次 3-4:  机制引入期
          - 引入坦克(高血量)
          - 引入飞行(对空需求)
          - 迫使玩家调整策略

波次 5:    第一个检查点(BOSS前)
          - 治疗僵尸引入优先级概念
          - 为BOSS波做准备

波次 6-7:  组合考验期
          - 分裂+快速：考验AOE+控制
          - 自爆引入：考验远程点杀

波次 8-9:  综合挑战期
          - 隐形引入：考验塔等级
          - 混合波次：考验全面布局

波次 10:   BOSS战
          - 检验整体DPS是否足够
          - 检验资源管理是否合理
```

### 波次击杀奖励明细

| 波次 | 击杀奖励计算 | 波次奖励 | 小计 |
|------|--------------|----------|------|
| 1 | 8×8 = 64 | 50 | 114 |
| 2 | 10×8 + 3×10 = 110 | 60 | 170 |
| 3 | 8×8 + 2×20 = 104 | 70 | 174 |
| 4 | 8×10 + 4×12 = 128 | 80 | 208 |
| 5 | 15×8 + 3×20 + 1×18 = 198 | 100 | 298 |
| 6 | 6×15 + 6×10 = 150 | 90 | 240 |
| 7 | 4×20 + 4×15 + 10×8 = 220 | 110 | 330 |
| 8 | 10×12 + 8×10 + 3×25 = 275 | 120 | 395 |
| 9 | 5×20 + 2×18 + 5×15 + 10×8 = 261 | 140 | 401 |
| 10 | 1×200 + 20×8 = 360 | 200 | 560 |
| **总计** | **1870** | **1020** | **2890** |

---

## 四、升级数值公式

### 1. 伤害成长公式

```
等级1(基础): 基础伤害 × 1.0
等级2: 基础伤害 × 1.4
等级3: 基础伤害 × 1.9
等级4: 基础伤害 × 2.5

通用公式: Damage(n) = BaseDamage × (1 + 0.4×(n-1) + 0.1×(n-1)²)
```

| 塔类型 | Lv1 | Lv2 | Lv3 | Lv4 |
|--------|-----|-----|-----|-----|
| 箭塔 | 15 | 21 | 29 | 38 |
| 炮塔 | 45 | 63 | 86 | 113 |
| 冰塔 | 5 | 7 | 10 | 13 |
| 狙击塔 | 80 | 112 | 152 | 200 |
| 电塔 | 25 | 35 | 48 | 63 |
| 毒塔 | 3 | 4 | 6 | 8 |

**设计意图**：升级收益递减，鼓励玩家分散投资而非单塔堆到满级

### 2. 攻速成长公式

```
攻速成长系数: 1.0 / 0.9 / 0.82 / 0.75

公式: AttackSpeed(n) = BaseSpeed × (0.9)^(n-1)
```

| 塔类型 | Lv1 | Lv2 | Lv3 | Lv4 |
|--------|-----|-----|-----|-----|
| 箭塔 | 0.80s | 0.72s | 0.66s | 0.60s |
| 炮塔 | 2.00s | 1.80s | 1.64s | 1.50s |
| 冰塔 | 1.20s | 1.08s | 0.98s | 0.90s |
| 狙击塔 | 3.00s | 2.70s | 2.46s | 2.25s |
| 电塔 | 0.50s | 0.45s | 0.41s | 0.38s |
| 毒塔 | 1.00s | 0.90s | 0.82s | 0.75s |

### 3. 射程成长公式

```
射程成长: 基础射程 × (1 + 0.1×(等级-1))

最大射程限制: 基础射程 × 1.3
```

| 塔类型 | Lv1 | Lv2 | Lv3 | Lv4 |
|--------|-----|-----|-----|-----|
| 箭塔 | 4.0 | 4.2 | 4.5 | 4.8 |
| 炮塔 | 3.5 | 3.7 | 3.9 | 4.1 |
| 冰塔 | 3.0 | 3.1 | 3.3 | 3.5 |
| 狙击塔 | 7.0 | 7.4 | 7.8 | 8.2 |
| 电塔 | 3.0 | 3.1 | 3.3 | 3.5 |
| 毒塔 | 3.5 | 3.7 | 3.9 | 4.1 |

### 4. 升级成本公式

```
升级成本 = 基础造价 × 升级系数

升级系数表:
- Lv1→Lv2: 0.8
- Lv2→Lv3: 1.2
- Lv3→Lv4: 1.8

总升级成本 = 造价 + Lv2成本 + Lv3成本 + Lv4成本
```

| 塔类型 | 造价 | Lv2成本 | Lv3成本 | Lv4成本 | 总成本 |
|--------|------|---------|---------|---------|--------|
| 箭塔 | 50 | 40 | 60 | 90 | 240 |
| 炮塔 | 120 | 100 | 150 | 225 | 595 |
| 冰塔 | 100 | 80 | 120 | 180 | 480 |
| 狙击塔 | 150 | 120 | 180 | 270 | 720 |
| 电塔 | 200 | 160 | 240 | 360 | 960 |
| 毒塔 | 80 | 65 | 100 | 150 | 395 |

### 5. 特殊效果升级

| 塔类型 | Lv1效果 | Lv2效果 | Lv3效果 | Lv4效果 |
|--------|---------|---------|---------|---------|
| 冰塔 | 减速30% | 减速40% | 减速50% | 减速60%，范围+0.5格 |
| 毒塔 | 10点/秒 | 12点/秒 | 15点/秒 | 20点/秒，持续6秒 |
| 电塔 | 连锁3个 | 连锁4个 | 连锁5个 | 连锁6个，递减降低 |
| 狙击塔 | 破甲50% | 破甲60% | 破甲70% | 破甲80%，伤害+10% |

### 6. 升级 vs 新建策略分析

```
案例：箭塔选择

方案A：1座满级箭塔
- 总成本：240金币
- DPS：63.3
- 占用格子：1
- DPS/金币：0.264

方案B：4座1级箭塔
- 总成本：200金币
- DPS：75.0
- 占用格子：4
- DPS/金币：0.375

结论：
- 新建塔性价比更高(+42%)
- 但满级塔节省格子，适合关键位置
- 玩家需要根据地形和格子数量做选择
```

---

## 五、经济系统

### 1. 基础经济参数

| 项目 | 数值 | 说明 |
|------|------|------|
| 初始金币 | 150 | 足够建造3座箭塔或1座电塔 |
| 初始生命 | 20 | 每漏一个僵尸扣1生命(BOSS扣5) |
| 基础击杀奖励 | 见僵尸表 | 主要收入来源 |
| 波次完成奖励 | 见波次表 | 保底收入 |

### 2. 击杀奖励公式

```
实际击杀奖励 = 基础击杀奖励 × 难度系数

难度系数:
- 简单: 1.2
- 普通: 1.0
- 困难: 0.8
- 噩梦: 0.6
```

### 3. 波次完成奖励

```
波次奖励 = 基础奖励 × (1 + 0.05 × 波次数)

第1波: 50 × 1.05 = 52.5 ≈ 50
第5波: 100 × 1.25 = 125 ≈ 100
第10波: 200 × 1.5 = 300 ≈ 200
```

### 4. 利息系统（可选机制）

```
每波结束时，获得当前金币 × 10% 的利息
最大利息: 50金币/波

示例:
- 持有200金币 → 获得20利息
- 持有500金币 → 获得50利息(达到上限)

目的: 鼓励玩家存钱，增加策略深度
```

### 5. 经济平衡验证

```
前10波总收入:
击杀奖励: 1870金币
波次奖励: 1020金币
初始金币: 150金币
总计: 3040金币

前10波合理支出:
- 建造6-8个塔: 约500-800金币
- 升级费用: 约1000-1800金币
- 应急储备: 约200-500金币
- 总计: 1700-3100金币

结余: 约0-1300金币（用于后期建设）

验证结论: 经济紧张但可行，玩家需要精打细算
```

### 6. 经济策略选择

| 策略 | 特点 | 适用场景 | 风险 |
|------|------|----------|------|
| **激进型** | 每波花光所有钱建塔 | 前期压力大，需要快速建立防线 | 后期缺乏升级资金 |
| **保守型** | 存钱吃利息 | 后期一波爆发，适合长地图 | 前期可能漏怪 |
| **平衡型** | 保留100-200金币应急 | 灵活应对突发情况 | 利息收益降低 |
| **升级流** | 优先升级关键塔 | 关键位置强力单塔 | 覆盖范围不足 |
| **数量流** | 多建低级塔覆盖 | 广范围压制 | 对精英乏力 |

---

## 六、策略深度设计

### 1. "数量 vs 质量"核心选择

| 维度 | 多建低级塔 | 少建高级塔 |
|------|------------|------------|
| 性价比 | 高(+42%) | 低 |
| 覆盖范围 | 广 | 窄 |
| 格子占用 | 多 | 少 |
| 后期潜力 | 有限 | 高 |
| 对精英 | 弱 | 强 |
| 灵活性 | 高 | 低 |

**设计平衡点**：
- 前5波：以低级塔为主，快速建立防线
- 5波后：选择性升级关键位置的塔
- 后期：高级塔成为主力，低级塔补充覆盖

### 2. 经典塔组合策略

#### 组合1：冰炮流（控制+AOE）
```
配置：冰塔 + 炮塔
原理：冰塔减速让僵尸聚集 → 炮塔范围伤害最大化
适用：僵尸密集路段、拐角处
成本：100 + 120 = 220金币
```

#### 组合2：毒箭流（持续+清理）
```
配置：毒塔 + 箭塔
原理：毒塔持续削减高血量 → 箭塔快速清理残血
适用：长路径中段
成本：80 + 50 = 130金币
```

#### 组合3：电竞流（多目标+点杀）
```
配置：电塔 + 狙击塔
原理：电塔清理小怪群 → 狙击塔点杀精英
适用：分叉路口、混合波次
成本：200 + 150 = 350金币（后期组合）
```

#### 组合4：冰狙流（控制+爆发）
```
配置：冰塔 + 狙击塔
原理：冰塔减速让狙击有更多射击时间
适用：对付快速精英僵尸
成本：100 + 150 = 250金币
```

### 3. 地形利用策略

| 地形 | 推荐塔 | 原因 |
|------|--------|------|
| 拐角处 | 炮塔、电塔 | 僵尸聚集，范围伤害最大化 |
| 长直道 | 狙击塔、毒塔 | 最大化输出时间 |
| 分叉口 | 电塔 | 同时覆盖多条路径 |
| 终点前 | 冰塔 | 最后的控制防线 |
| 开阔地 | 箭塔 | 性价比高，大面积覆盖 |

### 4. 波次应对策略矩阵

| 波次 | 关键威胁 | 推荐对策 | 避免 |
|------|----------|----------|------|
| 3 | 坦克僵尸 | 毒塔/狙击塔 | 纯箭塔阵容 |
| 4 | 飞行僵尸 | 确保有箭塔/狙击塔 | 全地面塔阵容 |
| 5 | 治疗僵尸 | 优先点杀 | 群攻塔 |
| 6 | 分裂僵尸 | 炮塔AOE | 单体高伤塔 |
| 7 | 自爆僵尸 | 狙击塔远程击杀 | 塔太密集 |
| 8 | 隐形僵尸 | 3级箭塔 | 低级塔阵容 |
| 10 | BOSS | 毒塔+狙击塔集中火力 | 电塔(连锁浪费) |

---

## 七、数值调整建议

### 测试时需要关注的核心指标

1. **通关率**
   - 普通难度前10波通关率应控制在50-70%
   - 困难难度通关率应控制在30-50%

2. **塔的使用率**
   - 每种塔的使用率应在10-25%之间
   - 如果某种塔使用率<5%，需要增强或降价
   - 如果某种塔使用率>40%，需要削弱或提价

3. **平均游戏时长**
   - 前10波应在15-25分钟
   - 过短：难度太低或波次间隔太短
   - 过长：难度太高或波次间隔太长

4. **金币结余**
   - 第10波结束时玩家应有100-400金币
   - 结余过少：经济太紧张
   - 结余过多：经济太宽松

### 数值调整方向

```
如果某种塔使用率过低:
→ 降低造价10-20% 或 增强效果10-20%

如果某种僵尸过于简单:
→ 增加血量20% 或 增加数量

如果某种僵尸过于困难:
→ 降低血量15% 或 降低移动速度

如果玩家金币总是不够用:
→ 增加击杀奖励10-15% 或 降低升级成本

如果玩家总是轻松过关:
→ 增加僵尸数量 或 降低初始金币

如果玩家总是失败:
→ 增加初始金币 或 降低波次难度
```

---

## 八、扩展预留

### 后期可添加内容

1. **新塔类型**
   - 激光塔：持续伤害，叠加增伤
   - 导弹塔：追踪导弹，对空特化
   - 召唤塔：召唤士兵阻挡僵尸
   -  Buff塔：增强周围塔的属性

2. **新僵尸类型**
   - 魔法免疫：只能被物理攻击
   - 物理免疫：只能被魔法攻击
   - 复活僵尸：死亡后5秒复活一次
   - 分裂BOSS：死亡后分裂为多个小BOSS

3. **天赋系统**
   - 全局加成：所有塔攻速+10%
   - 类型专精：箭塔伤害+20%
   - 经济天赋：击杀奖励+15%

4. **装备系统**
   - 给塔装备道具获得额外效果
   - 如：暴击率+20%、射程+1格等

5. **无尽模式**
   - 波次无限，难度指数增长
   - 每5波一个BOSS
   - 排行榜竞争

### 无尽模式数值公式

```
第n波(n>10)僵尸属性:
血量 = 基础血量 × (1.15)^(n-10)
速度 = 基础速度 × (1 + 0.02 × (n-10)) [最高1.5倍]
奖励 = 基础奖励 × (1.1)^(n-10)

每5波增加一个BOSS:
BOSS血量 = 基础BOSS血量 × 2^(n/5)

设计目标: 每5波难度翻倍，给玩家持续挑战
```

---

## 附录：快速参考卡

### 塔建造优先级

1. **开局首选**: 箭塔(性价比最高)
2. **AOE必备**: 炮塔(第6波前要有1座)
3. **控制核心**: 冰塔(关键路口1座)
4. **后期主力**: 狙击塔、电塔
5. **特殊对策**: 毒塔(坦克)、电塔(狭窄地形)

### 各波次关键准备

| 波次前 | 必须准备 |
|--------|----------|
| 第3波 | 至少1座毒塔或狙击塔 |
| 第4波 | 至少2座可对空塔 |
| 第5波 | 能优先点杀治疗僵尸的塔 |
| 第6波 | 至少1座炮塔 |
| 第8波 | 至少1座3级塔(侦测隐形) |
| 第10波 | 毒塔+狙击塔组合，总DPS>100 |

### 性价比速查

| 塔类型 | 性价比评级 | 最佳升级时机 |
|--------|------------|--------------|
| 箭塔 | S | 格子紧张时 |
| 炮塔 | B | 僵尸密集路段 |
| 冰塔 | A(控制价值) | 始终优先升满 |
| 狙击塔 | B | 后期主力 |
| 电塔 | A | 狭窄地形核心 |
| 毒塔 | B | 对付坦克波次前 |

---

*文档版本: 2.0*
*设计日期: 2026-02-08*
*设计者: AI数值策划师*
