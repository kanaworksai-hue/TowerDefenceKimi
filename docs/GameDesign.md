# 僵尸塔防游戏 - 游戏设计文档 (GDD)

## 版本信息
- **文档版本**: 1.0
- **最后更新**: 2026-02-08
- **游戏平台**: Web (HTML5/JavaScript)

---

## 1. 游戏概述

### 1.1 游戏简介
《僵尸塔防》是一款基于Web平台的策略塔防游戏。玩家需要在僵尸入侵的路径上建造和升级防御塔，阻止僵尸到达终点。游戏采用经典的波次进攻模式，每波僵尸会越来越强大，考验玩家的资源管理和策略布局能力。

### 1.2 核心体验
- **紧张刺激**: 源源不断的僵尸浪潮带来持续压力
- **策略深度**: 多种塔类型和僵尸类型的克制关系
- **成长满足**: 通过升级塔和完成波次获得成就感
- **易于上手**: 简洁的操作和清晰的游戏规则

### 1.3 目标受众
- 塔防游戏爱好者
- 休闲策略游戏玩家
- Web游戏玩家

### 1.4 美术风格
- 风格: 卡通风格，略带末日氛围
- 色调: 暗色调为主，技能特效使用高饱和度色彩
- 视角: 2D俯视视角

---

## 2. 核心玩法循环

### 2.1 游戏流程图

```
开始游戏
    |
    v
准备阶段 <--> 建造/升级防御塔
    |
    v
波次开始
    |
    v
僵尸进攻阶段 <--> 实时调整策略
    |
    v
波次结束
    |
    v
奖励结算 (金币)
    |
    v
是否最后一波? --否--> 准备阶段
    |
    是
    v
游戏胜利/失败
```

### 2.2 波次系统

#### 2.2.1 波次结构
- 每个关卡包含 **10-20 波** 僵尸进攻
- 波次难度随进度指数增长
- 每 **5 波** 为一组，第5波为"精英波"

#### 2.2.2 波次类型
| 波次类型 | 描述 | 出现频率 |
|---------|------|---------|
| 普通波 | 单一类型僵尸，数量适中 | 每轮第1-4波 |
| 精英波 | 混合多种僵尸，数量较多 | 每轮第5波 |
| 突袭波 | 大量快速僵尸快速冲锋 | 随机出现 |
| BOSS波 | 出现强力BOSS僵尸 | 第10、20波 |

#### 2.2.3 波次难度曲线
- 僵尸生命值: 每波增加 15%
- 僵尸数量: 每波增加 10%
- 僵尸移速: 每5波增加 5%
- 波次间隔金币奖励: 50 + (波次数 × 10)

### 2.3 建造系统

#### 2.3.1 建造规则
- 只能在**可建造区域**放置防御塔
- 建造时会立即扣除对应金币
- 同一格子只能建造一座塔
- 建造后可以出售（返还 50% 金币）

#### 2.3.2 建造流程
1. 点击防御塔按钮选择塔类型
2. 鼠标移动到地图上的可建造区域
3. 显示建造预览（范围和消耗）
4. 点击确认建造
5. 扣除金币，塔立即生效

#### 2.3.3 建造限制
- 同时建造数量: 无限制（只要金币足够）
- 建造冷却: 无
- 最小间距: 无（可以相邻建造）

### 2.4 升级系统

#### 2.4.1 升级规则
- 每座塔最高可升至 **3级**
- 升级需要消耗金币
- 升级后塔的攻击力、射程、攻速全面提升
- 部分塔在3级时解锁特殊能力

#### 2.4.2 升级成本
| 等级 | 升级费用 | 属性提升 |
|-----|---------|---------|
| 1→2 | 建造成本 × 1.5 | +50% 攻击力, +10% 射程 |
| 2→3 | 建造成本 × 2.0 | +50% 攻击力, +20% 射程, 解锁特殊能力 |

#### 2.4.3 升级流程
1. 点击已建造的防御塔
2. 显示升级面板
3. 点击升级按钮（金币足够时高亮）
4. 扣除金币，播放升级特效
5. 属性立即生效

### 2.5 资源管理

#### 2.5.1 金币系统
**获取途径:**
- 初始金币: 每关 300-500
- 击杀奖励: 每只僵尸 5-20 金币
- 波次奖励: 完成波次获得固定奖励
- 利息系统: 波次结束时，剩余金币的 5% 作为利息

**消耗途径:**
- 建造防御塔
- 升级防御塔

#### 2.5.2 生命值系统
- 初始生命: 20 点
- 僵尸到达终点: 扣除 1 点生命
- 生命归零: 游戏失败
- 生命不可恢复

#### 2.5.3 资源策略
- 平衡建造与储蓄，利用利息系统
- 优先升级还是多建低级塔的选择
- 针对波次类型调整资源配置

---

## 3. 僵尸类型设计

### 3.1 僵尸属性说明

| 属性 | 说明 |
|-----|------|
| 生命值 | 僵尸的耐久度 |
| 移动速度 | 每秒移动的格子数 |
| 护甲值 | 减少受到的物理伤害 |
| 特殊能力 | 僵尸的特殊效果 |
| 击杀奖励 | 击杀后获得的金币 |

### 3.2 普通僵尸 (Common Zombie)

**设计定位**: 基础单位，数量众多

| 属性 | 数值 |
|-----|------|
| 生命值 | 100 |
| 移动速度 | 1.0 格/秒 |
| 护甲值 | 0 |
| 击杀奖励 | 5 金币 |

**特点:**
- 最基础的僵尸类型
- 没有特殊能力
- 通常成群出现
- 波次中数量最多

**弱点:**
- 所有防御塔对其都有效
- 生命值低，容易被机枪塔快速清理

**外观描述:**
- 标准绿色僵尸，穿着破烂衣服
- 行动迟缓，手臂前伸

---

### 3.3 快速僵尸 (Runner Zombie)

**设计定位**: 高速突击，考验玩家反应

| 属性 | 数值 |
|-----|------|
| 生命值 | 60 |
| 移动速度 | 2.5 格/秒 |
| 护甲值 | 0 |
| 击杀奖励 | 8 金币 |

**特点:**
- 移动速度极快
- 生命值较低
- 容易突破防线
- 通常与普通僵尸混合出现

**弱点:**
- 生命值低，高伤害塔可一击必杀
- 减速塔可大幅降低其威胁

**外观描述:**
- 瘦长身形，皮肤呈暗红色
- 四肢着地奔跑姿态

---

### 3.4 坦克僵尸 (Tank Zombie)

**设计定位**: 高耐久肉盾，吸收伤害

| 属性 | 数值 |
|-----|------|
| 生命值 | 500 |
| 移动速度 | 0.5 格/秒 |
| 护甲值 | 20 |
| 击杀奖励 | 25 金币 |

**特点:**
- 极高的生命值
- 拥有护甲，减少物理伤害
- 移动缓慢
- 为其他僵尸抵挡伤害

**弱点:**
- 移动极慢，有充足时间输出
- 火箭塔的爆炸伤害无视部分护甲
- 狙击塔的高伤害可有效击杀

**外观描述:**
- 体型巨大，肌肉发达
- 身上绑着铁链和铁板
- 移动时地面震动

---

### 3.5 飞行僵尸 (Flying Zombie)

**设计定位**: 绕过地面防线，需要特殊应对

| 属性 | 数值 |
|-----|------|
| 生命值 | 80 |
| 移动速度 | 1.5 格/秒 |
| 护甲值 | 0 |
| 击杀奖励 | 12 金币 |

**特点:**
- 飞行单位，无视地面路径
- 直线飞向终点
- 不会被地面塔阻挡

**弱点:**
- 只能被对空塔攻击（机枪塔、狙击塔可对空）
- 火箭塔无法攻击飞行单位
- 生命值较低

**外观描述:**
- 背后有蝙蝠翅膀或气球
- 身体腐烂程度较高
- 飞行时留下绿色轨迹

---

### 3.6 僵尸克制关系表

| 僵尸类型 | 机枪塔 | 狙击塔 | 火箭塔 | 减速塔 |
|---------|-------|-------|-------|-------|
| 普通僵尸 | ★★★ | ★★☆ | ★★☆ | ★★☆ |
| 快速僵尸 | ★★☆ | ★★★ | ★☆☆ | ★★★ |
| 坦克僵尸 | ★☆☆ | ★★★ | ★★★ | ★★☆ |
| 飞行僵尸 | ★★★ | ★★☆ | ✗ | ★★☆ |

★★★ = 极佳  ★★☆ = 良好  ★☆☆ = 一般  ✗ = 无法攻击

---

## 4. 防御塔类型设计

### 4.1 通用属性说明

| 属性 | 说明 |
|-----|------|
| 攻击力 | 每次攻击造成的伤害 |
| 攻击速度 | 每秒攻击次数 |
| 射程 | 攻击范围（格子数） |
| 建造成本 | 初始建造所需金币 |
| 攻击类型 | 单体/范围/特殊 |

### 4.2 机枪塔 (Machine Gun Tower)

**设计定位**: 均衡型主力输出，对空对地

| 属性 | 数值 |
|-----|------|
| 攻击力 | 15/23/35 |
| 攻击速度 | 2.0 次/秒 |
| 射程 | 3/3.3/3.6 格 |
| 建造成本 | 80 金币 |
| 攻击类型 | 单体 |

**特点:**
- 攻击速度快，持续输出稳定
- 可以对空和对地
- 射程中等
- 性价比最高的基础塔

**适用场景:**
- 路径中段持续输出
- 需要同时应对地面和空中单位
- 前期经济紧张时的首选

**3级特殊能力 - 穿甲弹:**
- 攻击无视目标 30% 护甲

**外观描述:**
- 方形基座，顶部有旋转枪管
- 升级后枪管数量增加
- 射击时有火光特效

---

### 4.3 狙击塔 (Sniper Tower)

**设计定位**: 高伤害单体输出，远程狙杀

| 属性 | 数值 |
|-----|------|
| 攻击力 | 80/120/180 |
| 攻击速度 | 0.5 次/秒 |
| 射程 | 5/6/7 格 |
| 建造成本 | 150 金币 |
| 攻击类型 | 单体 |

**特点:**
- 极高单体伤害
- 射程最远
- 攻击速度慢
- 可以对空

**适用场景:**
- 路径起点或终点单点击杀
- 针对坦克僵尸等高血量单位
- 长路径覆盖

**3级特殊能力 - 爆头:**
- 20% 概率造成 3 倍伤害

**外观描述:**
- 高塔结构，顶部有大型狙击镜
- 升级后塔身更加精密
- 射击时有激光瞄准线

---

### 4.4 火箭塔 (Rocket Tower)

**设计定位**: 范围伤害，群体清理

| 属性 | 数值 |
|-----|------|
| 攻击力 | 40/60/90 |
| 攻击速度 | 0.8 次/秒 |
| 射程 | 3.5/4/4.5 格 |
| 建造成本 | 200 金币 |
| 攻击类型 | 范围 (1.5格半径) |

**特点:**
- 造成范围爆炸伤害
- 对集群僵尸效果极佳
- 无法攻击飞行单位
- 攻击有飞行时间延迟

**适用场景:**
- 路径拐角处（僵尸聚集点）
- 配合减速塔使用
- 应对大量普通僵尸

**3级特殊能力 - 燃烧弹:**
- 爆炸后留下燃烧区域，持续 3 秒，每秒造成 20 伤害

**外观描述:**
- 重型基座，装载火箭发射器
- 升级后发射管数量增加
- 发射时有烟雾和尾焰特效

---

### 4.5 减速塔 (Slow Tower)

**设计定位**: 辅助控制，无直接伤害

| 属性 | 数值 |
|-----|------|
| 攻击力 | 0/0/0 |
| 攻击速度 | 持续效果 |
| 射程 | 2.5/3/3.5 格 |
| 建造成本 | 120 金币 |
| 攻击类型 | 范围减速 |

**特点:**
- 不造成伤害，减缓范围内僵尸 40%/50%/60% 移速
- 范围效果，可同时影响多个目标
- 配合其他塔使用效果更佳
- 对飞行单位有效

**适用场景:**
- 高输出塔的攻击范围内
- 路径关键节点
- 应对快速僵尸

**3级特殊能力 - 冰冻:**
- 有 15% 概率冻结僵尸 1.5 秒

**外观描述:**
- 圆形基座，顶部有雪花/冷气装置
- 升级后冷气效果更明显
- 范围内有蓝色光环效果

---

### 4.6 防御塔对比表

| 属性 | 机枪塔 | 狙击塔 | 火箭塔 | 减速塔 |
|-----|-------|-------|-------|-------|
| DPS | 30/46/70 | 40/60/90 | 32/48/72 | 0 |
| 射程 | 中 | 极远 | 中远 | 短 |
| 对单 | 中 | 极高 | 中 | - |
| 对群 | 低 | 低 | 极高 | - |
| 对空 | ✓ | ✓ | ✗ | ✓ |
| 成本 | 低 | 中 | 高 | 中 |
| 定位 | 主力 | 点杀 | 群伤 | 辅助 |

---

## 5. 地图设计

### 5.1 网格系统

#### 5.1.1 网格规格
- 地图尺寸: **16 × 12** 格子
- 格子大小: 50 × 50 像素
- 地图总尺寸: 800 × 600 像素
- 格子类型:
  - 路径格子: 僵尸移动路线
  - 可建造格子: 允许放置防御塔
  - 障碍格子: 不可通行、不可建造

#### 5.1.2 网格可视化
```
[ ][ ][ ][ ][ ][ ][ ][ ][ ][ ][ ][ ][ ][ ][ ][ ]
[S][P][P][P][ ][ ][ ][ ][ ][ ][ ][ ][ ][ ][ ][ ]
[ ][ ][ ][P][ ][B][B][ ][ ][ ][ ][ ][ ][ ][ ][ ]
[ ][B][B][P][ ][B][B][ ][ ][ ][ ][ ][ ][ ][ ][ ]
[ ][ ][ ][P][P][P][P][P][P][ ][ ][ ][ ][ ][ ][ ]
[ ][ ][ ][ ][ ][ ][ ][ ][P][ ][B][B][ ][ ][ ][ ]
[ ][ ][ ][ ][ ][ ][ ][ ][P][ ][B][B][ ][ ][ ][ ]
[ ][ ][ ][ ][ ][B][B][ ][P][P][P][P][P][ ][ ][ ]
[ ][ ][ ][ ][ ][B][B][ ][ ][ ][ ][ ][P][ ][ ][ ]
[ ][ ][ ][ ][ ][ ][ ][ ][ ][ ][ ][ ][P][P][P][E]
[ ][ ][ ][ ][ ][ ][ ][ ][ ][ ][ ][ ][ ][ ][ ][ ]
[ ][ ][ ][ ][ ][ ][ ][ ][ ][ ][ ][ ][ ][ ][ ][ ]

图例: S=起点, E=终点, P=路径, B=障碍, [ ]=可建造
```

### 5.2 路径规划

#### 5.2.1 路径设计原则
- 单一路径: 僵尸沿固定路线移动
- 路径长度: 15-25 格
- 转折点: 3-5 个，创造战略要点
- 路径宽度: 1 格

#### 5.2.2 战略要点
- **拐角处**: 僵尸移动方向改变，停留时间长，适合放置高输出塔
- **直道**: 适合放置射程远的狙击塔
- **狭窄处**: 僵尸聚集，适合火箭塔

#### 5.2.3 路径类型
| 路径类型 | 描述 | 难度 |
|---------|------|------|
| 直线型 | 简单直接，适合新手 | 简单 |
| 回环型 | 路径来回折返，增加长度 | 中等 |
| 分叉型 | 多条路径需要分散防守 | 困难 |

### 5.3 可建造区域

#### 5.3.1 区域分布
- 路径两侧: 主要建造区域
- 战略高地: 扩大射程的特殊位置（较少）
- 限制区域: 障碍格子周围可能无法建造

#### 5.3.2 建造策略
- 优先覆盖路径的关键节点
- 考虑塔的射程重叠，形成交叉火力
- 预留空间给后期升级的高射程塔

---

## 6. 特殊机制

### 6.1 波次间准备时间

#### 6.1.1 机制说明
- 每波结束后有 **15 秒** 准备时间
- 准备时间内僵尸不会进攻
- 玩家可以在此期间建造、升级、调整策略

#### 6.1.2 准备时间功能
- 显示下一波僵尸预览（类型和数量）
- 高亮显示可建造区域
- 允许撤销上一步操作（仅限准备时间）

#### 6.1.3 手动开始
- 玩家可以点击"开始下一波"按钮提前开始
- 提前开始奖励: 剩余时间 × 2 金币

### 6.2 加速按钮

#### 6.2.1 功能说明
- 游戏速度可在 **1x / 1.5x / 2x** 之间切换
- 点击按钮循环切换速度
- 仅在波次进行中可用

#### 6.2.2 视觉反馈
- 按钮显示当前速度倍数
- 切换时有短暂的过渡动画
- 僵尸和子弹动画速度相应变化

#### 6.2.3 策略应用
- 简单波次使用加速快速通过
- 困难波次使用正常速度精细操作

### 6.3 暂停功能

#### 6.3.1 功能说明
- 按 **P 键** 或点击暂停按钮暂停游戏
- 暂停时游戏画面冻结
- 显示暂停菜单

#### 6.3.2 暂停菜单选项
- 继续游戏
- 重新开始当前关卡
- 返回主菜单
- 游戏设置（音量等）

#### 6.3.3 限制
- 暂停时无法建造或升级
- 波次计时器暂停

### 6.4 其他辅助功能

#### 6.4.1 范围显示
- 鼠标悬停在塔上显示攻击范围
- 选择建造时显示预览范围
- 按空格键显示所有塔的范围

#### 6.4.2 僵尸信息
- 鼠标悬停在僵尸上显示生命值
- 高威胁僵尸有特殊标识

#### 6.4.3 波次进度
- 屏幕顶部显示当前波次进度
- 显示剩余僵尸数量
- BOSS波有特殊警告提示

---

## 7. 关卡设计

### 7.1 关卡结构

| 关卡 | 波次数 | 难度 | 特殊要素 |
|-----|-------|------|---------|
| 第1关 | 10波 | 入门 | 只有普通僵尸 |
| 第2关 | 12波 | 简单 | 引入快速僵尸 |
| 第3关 | 15波 | 中等 | 引入坦克僵尸 |
| 第4关 | 15波 | 中等 | 引入飞行僵尸 |
| 第5关 | 20波 | 困难 | 所有类型混合 |

### 7.2 胜利条件
- 成功抵御所有波次
- 至少保留 1 点生命值

### 7.3 失败条件
- 生命值归零
- 玩家主动放弃

---

## 8. UI设计

### 8.1 主界面布局

```
+--------------------------------------------------+
|  生命值: ♥♥♥♥♥  金币: 999  波次: 5/15  [加速][暂停] |
+--------------------------------------------------+
|                                                  |
|                                                  |
|              游戏地图区域 (800x600)               |
|                                                  |
|                                                  |
+--------------------------------------------------+
| [机枪塔] [狙击塔] [火箭塔] [减速塔] | 选中塔信息面板 |
|  80金币   150金币  200金币  120金币  |              |
+--------------------------------------------------+
```

### 8.2 交互说明
- 左键点击: 选择/建造/升级
- 右键点击: 取消选择
- 空格键: 显示所有塔范围
- P键: 暂停

---

## 9. 音效与音乐

### 9.1 背景音乐
- 主菜单: 低沉的末日风格音乐
- 游戏中: 紧张的战斗音乐，随波次强度变化
- 胜利/失败: 对应的结果音乐

### 9.2 音效设计
| 事件 | 音效描述 |
|-----|---------|
| 建造 | 机械组装声 |
| 升级 | 能量充能声 |
| 机枪射击 | 连续快速的枪声 |
| 狙击射击 | 响亮的单发声 |
| 火箭发射 | 呼啸的火箭声 + 爆炸声 |
| 僵尸死亡 | 腐烂的倒地声 |
| 波次开始 | 警报声 |
| 生命损失 | 警告提示音 |

---

## 10. 技术规格

### 10.1 开发平台
- 引擎: HTML5 Canvas / JavaScript
- 分辨率: 自适应，推荐 1280x720
- 帧率: 60 FPS

### 10.2 性能目标
- 同屏僵尸数量: 最多 50 只
- 防御塔数量: 最多 30 座
- 加载时间: 小于 3 秒

---

## 11. 后续扩展计划

### 11.1 可能的扩展内容
- 新增防御塔类型（激光塔、电磁塔等）
- 新增僵尸类型（自爆僵尸、隐身僵尸等）
- 技能系统（空袭、修复等主动技能）
- 无尽模式
- 成就系统
- 关卡编辑器

---

## 附录

### A. 数值平衡表

| 项目 | 数值 |
|-----|------|
| 初始金币 | 400 |
| 初始生命 | 20 |
| 最大波次 | 20 |
| 准备时间 | 15秒 |
| 利息比例 | 5% |
| 出售返还 | 50% |

### B. 术语表
- **DPS**: Damage Per Second，每秒伤害
- **AOE**: Area of Effect，范围效果
- **波次(Wave)**: 一轮僵尸进攻
- **格子(Tile)**: 地图最小单位
